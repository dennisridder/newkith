<template>
  <section class="section section-ImageGrid section- scrollFast">
    <ul class="imageGrid displayGrid xverticalRowIrregular">
      <!-- prettier-ignore -->
      <li v-for="item in array" :id="item.id" :key="item.id" class="imageGrid-Row">
        <nuxt-link :to="slug + item.id" class="imageGrid-Item cursorInteract" tag="div" :title="item.title">

          <blok-image-container :id="item.id" :image="item.thumbnail" :alttitle="item.title" />

          <div class="imageGrid-Details">
            <h2 v-if="item.title">{{ item.title }}</h2>
            <blok-tag-list v-if="item.taglist" :array="item.taglist" />
          </div>
        </nuxt-link>
      </li>
    </ul>
  </section>
</template>

<script>
import cursorInteraction from "@/mixins/cursorInteraction"

export default {
  mixins: [cursorInteraction],
  props: {
    array: Array,
    slug: String
  },
  mounted() {}
}
</script>

<style lang="sass">
@import '~/assets/styles/variables.sass'

.section-ImageGrid
  margin-top: calc(var(--spacing-content-bottom) / 2 * -1);
  margin-bottom: var(--spacing-content-bottom)
  padding-left: var(--spacing-content-sides)
  padding-right: var(--spacing-content-sides)

.imageGrid
  position: relative
  display: flex
  flex-direction: column
  &-Row
    position: relative
    // display: flex
    width: 100%
  &-Item
    position: relative
    display: flex
    flex-direction: column
    cursor: pointer
    margin-bottom: 3rem
    &:hover
      @media ( hover: hover )
        h2
          font-family: 'FormaDJRDisplay', 'SohneSchmal HalbfettKursiv'
          color: $support-color
  &-Details
    display: flex
    flex-direction: column

  // Display as a grid
  &.displayGrid
    display: grid
    grid-template-columns: repeat(3, 1fr)
    gap: calc(3em + 1vw);

    @media screen and (max-width: $breakpoint-tablet)
      grid-template-columns: repeat(2, 1fr)

    @media screen and (max-width: $breakpoint-mobile)
      grid-template-columns: repeat(1, 1fr)
      gap: calc(1em + 1vw);

  // Vertical column, with irregular placement within rows
  &.verticalRowIrregular
    flex-direction: row
    flex-direction: column
    .imageGrid-Row
      &:nth-child(1), &:nth-child(11), &:nth-child(21), &:nth-child(31), &:nth-child(41)
        justify-content: flex-end
      &:nth-child(2), &:nth-child(12), &:nth-child(22), &:nth-child(32), &:nth-child(42)
        justify-content: flex-start
      &:nth-child(3), &:nth-child(13), &:nth-child(23), &:nth-child(33), &:nth-child(43)
        justify-content: flex-end
      &:nth-child(4), &:nth-child(14), &:nth-child(24), &:nth-child(34), &:nth-child(44)
        justify-content: center
      &:nth-child(5), &:nth-child(15), &:nth-child(25), &:nth-child(35), &:nth-child(45)
        justify-content: flex-end
      &:nth-child(6), &:nth-child(16), &:nth-child(26), &:nth-child(36), &:nth-child(46)
        justify-content: flex-start
      &:nth-child(7), &:nth-child(17), &:nth-child(27), &:nth-child(37), &:nth-child(47)
        justify-content: flex-end
      &:nth-child(8), &:nth-child(18), &:nth-child(28), &:nth-child(38), &:nth-child(48)
        justify-content: flex-start
      &:nth-child(9), &:nth-child(19), &:nth-child(29), &:nth-child(39), &:nth-child(49)
        justify-content: flex-end
      &:nth-child(10), &:nth-child(20), &:nth-child(30), &:nth-child(40), &:nth-child(50)
        justify-content: flex-start
        .imageGrid-Item
          margin-bottom: 0
    .imageGrid-Item
      flex-basis: 33.3333%
    .image-Effect > div
      width: 100%
    @media screen and (max-width: $breakpoint-tablet)
      .imageGrid-Item
        flex-basis: 50%
    @media screen and (max-width: $breakpoint-mobile)
      .imageGrid-Item
        flex-basis: 100%
</style>
